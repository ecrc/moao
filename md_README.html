<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MOAO: MOAO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MOAO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MOAO </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The MOAO project is an experimental framework for the simulation of Multi-Object Adaptive Optics systems. Using a pseudo-analytical approach leveraged by the computational power of manycore architectures (x86 and GPUs), the MOAO framework calculates the Tomographic Reconstructor matrix and generates Point Spread Function (PSF) for arbitrary MOAO systems and atmospheric conditions.</p>
<h2>Installation </h2>
<p>First download the sources: </p><div class="fragment"><div class="line">git clone https://github.com/ecrc/moao MOAO-git</div></div><!-- fragment --><p>Then, initialize the submodules: </p><div class="fragment"><div class="line">cd MOAO-git</div><div class="line">git submodule init</div><div class="line">git submodule update</div></div><!-- fragment --><p>Create a build directory and run CMake: </p><div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake .. -Dproject=chameleon</div></div><!-- fragment --><p>The following options can be added:</p><ul>
<li>-DUSE_INTERSAMPLE=ON to generate PSFs</li>
<li>-DGPU=ON to enable GPU computation</li>
</ul>
<p>Finally, compile the project: </p><div class="fragment"><div class="line">make</div></div><!-- fragment --><h2>Execution </h2>
<p>In order to run the MOAO simulation, some values must be defined:</p><ul>
<li>the number of core : n_cores</li>
<li>the number of GPUs (if cuda is enabled): n_gpus</li>
<li>the tile size : tile</li>
<li>the number of short exposure performed with a single tomographic reconstructor : maxobs</li>
<li>the number of tomographic reconstructor used a long exposure : maxrefine</li>
<li>the path to the system parameters : sys_path</li>
<li>the path to the atmospheric parameters : atm_path</li>
</ul>
<p>Run the following command with the actual values: </p><div class="fragment"><div class="line">./moao --n_cores= --n_gpus= --tile= --maxrefine= --maxobs= --sys_path= --atm_path=</div></div><!-- fragment --><h2>Inputs </h2>
<p>The execution of the MOAO framework requires:</p><ul>
<li>A text file describing the <a class="el" href="SYS_PARAM.html">System parameters</a></li>
<li>A command matrix ( Dx.fits)</li>
<li>A text file describing the <a class="el" href="ATM_PARAM.html">Atmospheric parameters</a></li>
</ul>
<p>In order to compute the PSFs, some additional input data are required:</p><ul>
<li>The influence function of the actuators (abs2fi.fits)</li>
<li>The list of valid subapertures (idx.fits)</li>
<li>The optical transfer function of the telescope (otftel.fits)</li>
</ul>
<p>All those files can be generated by a provided <a class="el" href="PY_README.html">python script</a> relying on cython.</p>
<p>Input samples can be downloaded as follow : </p><div class="fragment"><div class="line">wget --quiet --no-check-certificate  &quot;https://drive.google.com/uc?export=download&amp;id=0Bw6iRA3hQZNCVEtVRjA1Q2xwM00&quot; -O moao_inputs.tar.gz</div></div><!-- fragment --><p> These samples contain the corresponding PSF output for a single iteration (maxrefine=1, maxobs=1)</p>
<h2>Dependencies </h2>
<p>This project has several dependencies listed below.</p>
<h3>Simulation</h3>
<ul>
<li>chameleon (<a href="https://project.inria.fr/chameleon/">https://project.inria.fr/chameleon/</a>)</li>
<li>starpu (<a href="http://starpu.gforge.inria.fr/">http://starpu.gforge.inria.fr/</a>)</li>
<li>cfitsio (<a href="https://heasarc.gsfc.nasa.gov/fitsio/">https://heasarc.gsfc.nasa.gov/fitsio/</a>)</li>
<li>fftw3 (<a href="http://www.fftw.org/">http://www.fftw.org/</a>)</li>
</ul>
<p>And, optionally:</p><ul>
<li>cuda</li>
</ul>
<h3>Parameter generation</h3>
<p>In addition to the dependencies mentioned above, the parameter generation, detailed in <a class="el" href="PY_README.html">cython/pipeline/README.md</a> depends on:</p>
<ul>
<li>python2</li>
</ul>
<p>with the packages</p>
<ul>
<li>astropy</li>
<li>cython</li>
</ul>
<p>Note that installing anaconda2 (<a href="https://conda.io/docs/user-guide/install/download.html">https://conda.io/docs/user-guide/install/download.html</a>) provide all these dependencies.</p>
<h1>References </h1>
<ol type="1">
<li>H. Ltaief, D. Gratadour, A. Charara, and E. Gendron, Adaptive Optics Simulation for the World's Biggest Eye on Multicore Architectures with Multiple GPUs, <em>ACM Platform for Advanced Scientific Computing</em>, 2016.</li>
<li>E. Gendron, A. Charara, A. Abdelfattah, D. Gratadour, D. Keyes, H. Ltaief, C. Morel, F. Vidal, A. Sevin, and G. Rousset, A Novel Fast and Accurate Pseudo-Analytical Simulation Approach for MOAO", <em>in Adaptive Optics Systems IV, Proceedings of the SPIE 9148</em>, 2014.</li>
<li>A. Charara, H. Ltaief, D. Gratadour, D. Keyes, A. Sevin, A. Abdelfattah, E. Gendron and C. Morel, and F. Vidal, Pipelining Computational Stages of the Tomographic Reconstructor for Multi-object Adaptive Optics on a Multi-GPU System, <em>Proceedings of the ACM International Conference for High Performance Computing, Networking, Storage and Analysis</em>, pp. 262-273, 2014.</li>
<li>A. Abdelfattah, E. Gendron, D. Gratadour, D. Keyes, H. Ltaief, A. Sevin, and F. Vidal, High Performance Pseudo-analytical Simulation of Multi-Object Adaptive Optics over Multi-GPU Systems, <em>Proceedings of the 20th International Euro-Par Conference</em>, vol. 8632, pp .704â€“715, 2014.</li>
</ol>
<h1>Questions? </h1>
<p>Please feel free to create an issue on Github for any questions and inquiries.</p>
<h1>Handout </h1>
<div class="image">
<img src="MOAO-handout-final.png" alt="MOAO-handout-final.png"/>
<div class="caption">
Handout</div></div>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 13 2018 16:06:42 for MOAO by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
